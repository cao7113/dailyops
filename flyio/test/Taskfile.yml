# https://taskfile.dev
version: "3"
includes:
  # fly related tasks
  fly-io:
    taskfile: ./Taskfile-flyio.yml
    aliases: [f, fly]
    optional: true

tasks:
  gh: https://github.com/cao7113/dailyops/tree/main/flyio/test

  dk-build: docker build -t flyio-try .
  dk-sh: docker run --rm -it flyio-try sh

  fly-sh: fly ssh console
  fly-deploy: fly deploy
  ## dns dig https://fly.io/docs/networking/private-networking/#fly-io-internal-dns
  fly-apps: dig _apps.internal txt

  ## Machines
  # try with ubuntu
  try: fly machine run --shell
